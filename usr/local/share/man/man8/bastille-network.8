.Dd 2025/12/06
.Dt bastille-network 1
.Os
.Sh NAME
.Nm bastille network
.Nd Add or remove interface(s) from jail(s).
.Sh SYNOPSIS
.Nm
.Op Fl aBMnPVvx
.Ar TARGET Sy add Ar INTERFACE Op IP
.Nm
.Op Fl ax
.Ar TARGET Sy remove Ar INTERFACE
.Sh DESCRIPTION
The
.Nm
sub-command can add or remove interfaces, as
well as set a VLAN ID for jails. Setting the VLAN
ID must be done during the 'add' phase.
.Bl -tag -width Ds
.It Sy bastille network Oo Fl aBMnPVvx Oc Ar TARGET Sy add Ar INTERFACE Op IP
.Bl -tag -width Ds
.It Sy add
Add the
.Ar INTERFACE
to the jail.
.It Fl a , Fl -auto
Auto mode. Start/stop jail(s) if required.
.It Fl B , Fl -bridge
Add a bridge interface.
.It Fl M , Fl -static-mac
Use a static/persistent MAC address (VNET only).
.It Fl n , Fl -no-ip
Create interface without an IP (VNET only).
.It Fl P , Fl -passthrough
Add a raw interface.
.It Fl V , Fl -vnet
Add a physical interface.
.It Fl v Ar VLANID , Fl -vlan Ar VLANID
Assign
.Ar VLANID
to interface (VNET only).
.It Fl x , Fl -debug
Enable debug mode.
.El
.Pp
The
.Ar IP
is only optional when the '-n|--no-ip' is set.
.It Sy bastille network Oo Fl ax Oc Ar TARGET Sy remove Ar INTERFACE
.Bl -tag -width Ds
.It Sy remove
Remove the specifed
.Ar INTERFACE
from the jail.
.It Fl a , Fl -auto
Auto mode. Start/stop jail(s) if required.
.It Fl x , Fl -debug
Enable debug mode.
.Sh EXAMPLES
.Bl -tag -width Ds
.It Add vtnet0 to myjail:
.Sy bastille network -aV myjail add vtnet0 DHCP
.It Add bridge0 to myjail with a static MAC:
.Sy bastille network -aBM myjail add bridge0 10.23.23.23/24
.It Remove em0 from myjail:
.Sy bastille network -a myjail remove em0
.Sh SEE ALSO
.Xr bastille.conf 5 ,
.Xr bastille-bootstrap 8 ,
.Xr bastille-clone 8 ,
.Xr bastille-cmd 8 ,
.Xr bastille-config 8 ,
.Xr bastille-console 8 ,
.Xr bastille-convert 8 ,
.Xr bastille-cp 8 ,
.Xr bastille-create 8 ,
.Xr bastille-destroy 8 ,
.Xr bastille-edit 8 ,
.Xr bastille-etcupdate 8 ,
.Xr bastille-export 8 ,
.Xr bastille-htop 8 ,
.Xr bastille-import 8 ,
.Xr bastille-jcp 8 ,
.Xr bastille-limits 8 ,
.Xr bastille-list 8 ,
.Xr bastille-migrate 8 ,
.Xr bastille-monitor 8 ,
.Xr bastille-mount 8 ,
.Xr bastille-pkg 8 ,
.Xr bastille-rcp 8 ,
.Xr bastille-rdr 8 ,
.Xr bastille-rename 8 ,
.Xr bastille-restart 8 ,
.Xr bastille-service 8 ,
.Xr bastille-setup 8 ,
.Xr bastille-start 8 ,
.Xr bastille-stop 8 ,
.Xr bastille-sysrc 8 ,
.Xr bastille-tags 8 ,
.Xr bastille-template 8 ,
.Xr bastille-top 8 ,
.Xr bastille-umount 8 ,
.Xr bastille-update 8 ,
.Xr bastille-upgrade 8 ,
.Xr bastille-verify 8 ,
.Xr bastille-zfs 8