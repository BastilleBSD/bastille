.Dd 2025/12/06
.Dt bastille-limits 1
.Os
.Sh NAME
.Nm bastille limits
.Nd Apply resource limits to jail(s). See
.Xr rctl 8
and
.Xr cpuset 1 . 
.Sh SYNOPSIS
.Nm
.Op Fl alx
.Ar TARGET
.Sy add
.Ar OPTION VALUE
.Nm
.Op Fl ax
.Ar TARGET
.Sy remove
.Ar OPTION
.Nm
.Op Fl ax
.Ar TARGET
.Sy clear|reset|stats
.Nm
.Op Fl ax
.Ar TARGET
.Sy list|show
.Op active
.Sh DESCRIPTION
The
.Nm
sub-command allows adding and setting limits to jail(s).
.Bl -tag -width Ds
.It Sy bastille limits Oo Fl alx Oc Sy add Ar OPTION VALUE
.Bl -tag -width Ds
.It Sy add
Add the specified
.Ar OPTION
to the jail along with its
.Ar VALUE .
.It Fl a , Fl -auto
Auto mode. Start/stop jail(s) if required.
.It Fl l , Fl -log
Enable logging for the specified rule (RCTL only).
.It Fl x , Fl -debug
Enable debug mode.
.El
.Pp
The
.Ar OPTION
and
.Ar VALUE
shoud conform to RCTL specs. See
.Xr rctl 8 .
.It Sy bastille limits Oo Fl ax Oc Sy remove Ar OPTION
.Bl -tag -width Ds
.It Sy remove
Remove the specified
.Ar OPTION
from the jail.
.It Fl a , Fl -auto
Auto mode. Start/stop jail(s) if required.
.It Fl x , Fl -debug
Enable debug mode.
.El
.It Sy bastille limits Oo Fl ax Oc Sy clear|reset|stats
.Bl -tag -width Ds
.It Sy clear
Clear limits from the system, but don't remove from jail configuration.
.It Sy reset
Clear limits from system, and remove from jail configuration.
.It Sy stats
Show limit stats (RCTL only).
.It Fl x , Fl -debug
Enable debug mode.
.El
.It Sy bastille limits Oo Fl ax Oc Sy list|show Op active
.Bl -tag -width Ds
.It Sy list
Show all configured limits on the system, active or not.
.Pp
If
.Ar active
is given as the last argument here, only active limits will
be shown.
.It Sy show
Same as list.
.It Fl x , Fl -debug
Enable debug mode.
.El
.Sh EXAMPLES
.Bl -tag -width Ds
.It Apply memoryuse limit of 4G to myjail:
.Sy bastille limits myjail set memoryuse 4G
.It Limit myjail to cpu 0 and 1:
.Sy bastille limits myjail set cpu 0,1
.It Remove all limits from myjail:
.Sy bastille limits -a myjail reset
.Sh SEE ALSO
.Xr bastille.conf 5 ,
.Xr bastille-bootstrap 8 ,
.Xr bastille-clone 8 ,
.Xr bastille-cmd 8 ,
.Xr bastille-config 8 ,
.Xr bastille-console 8 ,
.Xr bastille-convert 8 ,
.Xr bastille-cp 8 ,
.Xr bastille-create 8 ,
.Xr bastille-destroy 8 ,
.Xr bastille-edit 8 ,
.Xr bastille-etcupdate 8 ,
.Xr bastille-export 8 ,
.Xr bastille-htop 8 ,
.Xr bastille-import 8 ,
.Xr bastille-jcp 8 ,
.Xr bastille-list 8 ,
.Xr bastille-migrate 8 ,
.Xr bastille-monitor 8 ,
.Xr bastille-mount 8 ,
.Xr bastille-network 8 ,
.Xr bastille-pkg 8 ,
.Xr bastille-rcp 8 ,
.Xr bastille-rdr 8 ,
.Xr bastille-rename 8 ,
.Xr bastille-restart 8 ,
.Xr bastille-service 8 ,
.Xr bastille-setup 8 ,
.Xr bastille-start 8 ,
.Xr bastille-stop 8 ,
.Xr bastille-sysrc 8 ,
.Xr bastille-tags 8 ,
.Xr bastille-template 8 ,
.Xr bastille-top 8 ,
.Xr bastille-umount 8 ,
.Xr bastille-update 8 ,
.Xr bastille-upgrade 8 ,
.Xr bastille-verify 8 ,
.Xr bastille-zfs 8